╔════════════════════════════════════════════════════════════════════════════╗
║          БАЗА ЗНАНИЙ — ШПАРГАЛКА ПО КОМАНДАМ                              ║
╚════════════════════════════════════════════════════════════════════════════╝

┌─ ОСНОВНЫЕ КОМАНДЫ ──────────────────────────────────────────────────────┐
│                                                                          │
│  🆕 Создать базу с нуля:                                                │
│     python3 build_knowledge.py                                           │
│                                                                          │
│  🔄 Обновить базу (только изменённые файлы):                            │
│     python3 update_knowledge.py                                          │
│                                                                          │
│  💬 Чат с агентом (интерактивный):                                      │
│     python3 chat_agent.py                                                │
│                                                                          │
│  💬 Чат — один вопрос:                                                  │
│     python3 chat_agent.py "Ваш вопрос"                                   │
│                                                                          │
│  📊 Показать статистику:                                                │
│     python3 stats_knowledge.py                                           │
│                                                                          │
│  🔍 Поиск (интерактивный):                                              │
│     python3 search_knowledge.py                                          │
│                                                                          │
└──────────────────────────────────────────────────────────────────────────┘

┌─ ПОИСК ─────────────────────────────────────────────────────────────────┐
│                                                                          │
│  По стране:                                                              │
│     python3 search_knowledge.py --country "Portugal"                     │
│     python3 search_knowledge.py --country "Malta"                        │
│                                                                          │
│  По типу программы:                                                      │
│     python3 search_knowledge.py --type "citizenship"                     │
│     python3 search_knowledge.py --type "residence"                       │
│     python3 search_knowledge.py --type "permanent"                       │
│                                                                          │
│  По тексту:                                                              │
│     python3 search_knowledge.py --search "investment"                    │
│     python3 search_knowledge.py --search "startup"                       │
│                                                                          │
└──────────────────────────────────────────────────────────────────────────┘

┌─ СТАТИСТИКА ────────────────────────────────────────────────────────────┐
│                                                                          │
│  Общая статистика:                                                       │
│     python3 stats_knowledge.py                                           │
│                                                                          │
│  Список всех стран:                                                      │
│     python3 stats_knowledge.py --list                                    │
│                                                                          │
│  Статистика по стране:                                                   │
│     python3 stats_knowledge.py --country "Malta"                         │
│                                                                          │
└──────────────────────────────────────────────────────────────────────────┘

┌─ ПРОСМОТР ФАЙЛОВ ───────────────────────────────────────────────────────┐
│                                                                          │
│  Открыть индекс:                                                         │
│     open knowledge/00_index.md                                           │
│     cat knowledge/00_index.md                                            │
│                                                                          │
│  Посмотреть логи:                                                        │
│     cat knowledge/build_log.md                                           │
│     cat knowledge/update_log.md                                          │
│                                                                          │
│  Список всех документов:                                                 │
│     ls -R knowledge/                                                     │
│     find knowledge -name "*.md" -type f                                  │
│                                                                          │
└──────────────────────────────────────────────────────────────────────────┘

┌─ GREP ПОИСК ────────────────────────────────────────────────────────────┐
│                                                                          │
│  Найти упоминания:                                                       │
│     grep -r "Malta" knowledge/                                           │
│     grep -r "investment" knowledge/                                      │
│     grep -rn "citizenship" knowledge/  (с номерами строк)                │
│                                                                          │
└──────────────────────────────────────────────────────────────────────────┘

┌─ РЕЗЕРВНОЕ КОПИРОВАНИЕ ─────────────────────────────────────────────────┐
│                                                                          │
│  Создать архив:                                                          │
│     tar -czf knowledge_backup_$(date +%Y%m%d).tar.gz knowledge/          │
│                                                                          │
│  Восстановить:                                                           │
│     tar -xzf knowledge_backup_20251014.tar.gz                            │
│                                                                          │
└──────────────────────────────────────────────────────────────────────────┘

┌─ УСТАНОВКА ЗАВИСИМОСТЕЙ ────────────────────────────────────────────────┐
│                                                                          │
│  Установить PyPDF2:                                                      │
│     pip install PyPDF2                                                   │
│                                                                          │
│  Проверить Python:                                                       │
│     python3 --version                                                    │
│                                                                          │
└──────────────────────────────────────────────────────────────────────────┘

┌─ БЫСТРАЯ ДИАГНОСТИКА ───────────────────────────────────────────────────┐
│                                                                          │
│  Количество PDF в raw/:                                                  │
│     ls -1 raw/*.pdf | wc -l                                              │
│                                                                          │
│  Количество MD документов:                                               │
│     find knowledge -name "*.md" -not -name "00_index.md" \               │
│          -not -name "*_log.md" | wc -l                                   │
│                                                                          │
│  Размер базы знаний:                                                     │
│     du -sh knowledge/                                                    │
│                                                                          │
└──────────────────────────────────────────────────────────────────────────┘

┌─ ТИПИЧНЫЕ СЦЕНАРИИ ─────────────────────────────────────────────────────┐
│                                                                          │
│  📌 Первый запуск:                                                      │
│     python3 build_knowledge.py                                           │
│     python3 stats_knowledge.py                                           │
│     python3 chat_agent.py                                                │
│                                                                          │
│  📌 Задать вопрос агенту:                                               │
│     python3 chat_agent.py                                                │
│     > Какие программы citizenship в Malta?                               │
│     > Требования для residence permit в Portugal?                        │
│     > /выход                                                             │
│                                                                          │
│  📌 Быстрый вопрос (без интерактива):                                   │
│     python3 chat_agent.py "гражданство Malta"                            │
│     python3 chat_agent.py "Portugal residence permit"                    │
│                                                                          │
│  📌 Добавили новые PDF в raw/:                                          │
│     python3 update_knowledge.py                                          │
│     cat knowledge/update_log.md                                          │
│                                                                          │
│  📌 Ищем информацию о стране:                                           │
│     python3 search_knowledge.py --country "Portugal"                     │
│     python3 stats_knowledge.py --country "Portugal"                      │
│                                                                          │
└──────────────────────────────────────────────────────────────────────────┘

╔════════════════════════════════════════════════════════════════════════════╗
║  💬 ЧАТ-АГЕНТ                                                             ║
║     python3 chat_agent.py  — Интерактивный чат                            ║
║     Команды в чате: /помощь, /статистика, /выход                          ║
║     Примеры вопросов:                                                      ║
║       • гражданство Malta                                                  ║
║       • Portugal residence permit                                          ║
║       • citizenship investment Caribbean                                   ║
║                                                                            ║
║  📊 ЛОГИРОВАНИЕ НЕОТВЕЧЕННЫХ ВОПРОСОВ                                     ║
║     Автоматически: knowledge/_unanswered_log.md                            ║
║     Просмотр: cat knowledge/_unanswered_log.md                             ║
║     Анализ пробелов в базе знаний                                          ║
╚════════════════════════════════════════════════════════════════════════════╝

╔════════════════════════════════════════════════════════════════════════════╗
║  📚 ДОКУМЕНТАЦИЯ                                                          ║
║     README.md  — Полная документация                                      ║
║     USAGE.md   — Руководство пользователя                                 ║
║     COMMANDS.txt — Эта шпаргалка                                          ║
╚════════════════════════════════════════════════════════════════════════════╝

