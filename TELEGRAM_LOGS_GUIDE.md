# üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–∑ Telegram

–í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ Telegram **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –≤ —Ñ–∞–π–ª –∏ **—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Git**.

---

## üéØ –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è:
- üìÖ **–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è** (—Ç–æ—á–Ω–æ–µ)
- üë§ **User ID –∏ username** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
- ‚ùì **–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞**
- ‚úÖ/‚ùå **–ù–∞–π–¥–µ–Ω –ª–∏ –æ—Ç–≤–µ—Ç** (yes/no)
- üìè **–î–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞** (–≤ —Å–∏–º–≤–æ–ª–∞—Ö)

---

## üìÅ –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–≥–∏

**–§–∞–π–ª:** `knowledge/telegram_questions.jsonl`

**–§–æ—Ä–º–∞—Ç:** JSON Lines (–∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ = –æ—Ç–¥–µ–ª—å–Ω—ã–π JSON –æ–±—ä–µ–∫—Ç)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏:**
```json
{
  "timestamp": "2025-10-14T22:45:30.123456",
  "user_id": 123456789,
  "username": "john_doe",
  "question": "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Golden Visa –≤ –ì—Ä–µ—Ü–∏–∏?",
  "answer_found": true,
  "response_length": 1842,
  "date": "2025-10-14",
  "time": "22:45:30"
}
```

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Git

–õ–æ–≥–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞ GitHub:

### –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:
1. –ö–∞–∂–¥—ã–µ **10 –≤–æ–ø—Ä–æ—Å–æ–≤**, –ò–õ–ò
2. –ö–∞–∂–¥—ã–π **1 —á–∞—Å** (–µ—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã)

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
```bash
git add knowledge/telegram_questions.jsonl
git commit -m "üìä Auto-sync: Telegram questions log"
git push
```

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –±–æ—Ç–∞** - –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.

---

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
python3 view_telegram_logs.py
```

**–ü–æ–∫–∞–∂–µ—Ç:**
- ‚úÖ –°–≤–æ–¥–∫—É (–≤—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤, —Å –æ—Ç–≤–µ—Ç–æ–º, –±–µ–∑ –æ—Ç–≤–µ—Ç–∞)
- üë• –¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –¥–∞—Ç–∞–º
- üìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –≤–æ–ø—Ä–æ—Å–æ–≤
- ‚ùå –ù–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- üî• –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–µ–º—ã

### –í–∞—Ä–∏–∞–Ω—Ç 2: –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV

```bash
python3 view_telegram_logs.py export
```

–°–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `telegram_questions.csv` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ Excel/Google Sheets.

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ù–∞–ø—Ä—è–º—É—é (JSON)

```bash
cat knowledge/telegram_questions.jsonl | jq '.'
```

–∏–ª–∏

```bash
tail -20 knowledge/telegram_questions.jsonl
```

---

## üîç –ü—Ä–∏–º–µ—Ä—ã –∞–Ω–∞–ª–∏–∑–∞

### –°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤:
```bash
wc -l knowledge/telegram_questions.jsonl
```

### –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –≤–æ–ø—Ä–æ—Å–æ–≤:
```bash
tail -5 knowledge/telegram_questions.jsonl | jq '.question'
```

### –ù–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã:
```bash
grep '"answer_found": false' knowledge/telegram_questions.jsonl | jq '.question'
```

### –¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```bash
jq -r '.username' knowledge/telegram_questions.jsonl | sort | uniq -c | sort -rn
```

---

## üì• –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Å GitHub

–õ–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—É—à–∞—Ç—Å—è –Ω–∞ GitHub, –ø–æ—ç—Ç–æ–º—É –≤—ã –º–æ–∂–µ—Ç–µ:

### –ù–∞ –¥—Ä—É–≥–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
```bash
git pull
cat knowledge/telegram_questions.jsonl
```

### –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å GitHub:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ github.com
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `knowledge/telegram_questions.jsonl`
3. –ù–∞–∂–º–∏—Ç–µ `Raw` –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

### –ß–µ—Ä–µ–∑ API GitHub:
```bash
curl https://raw.githubusercontent.com/kemock-intermark/immigration-telegram-bot/main/knowledge/telegram_questions.jsonl
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å

### –ß—Ç–æ –ù–ï –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:
- ‚ùå –ü–æ–ª–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚ùå Email/—Ç–µ–ª–µ—Ñ–æ–Ω
- ‚ùå –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç–≤–µ—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª–∏–Ω–∞)
- ‚ùå IP –∞–¥—Ä–µ—Å–∞

### –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:
- ‚úÖ Telegram user_id (—á–∏—Å–ª–æ)
- ‚úÖ Telegram username (–ø—É–±–ª–∏—á–Ω–æ–µ –∏–º—è)
- ‚úÖ –í–æ–ø—Ä–æ—Å—ã (—Ç–µ–∫—Å—Ç)

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å:

–ú–æ–∂–Ω–æ —Ö—ç—à–∏—Ä–æ–≤–∞—Ç—å user_id –≤ `question_logger.py`:
```python
import hashlib
user_id_hash = hashlib.sha256(str(user_id).encode()).hexdigest()[:16]
```

---

## üìà –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–æ–≤

### –ê–Ω–∞–ª–∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–µ–º
–ü–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å:
- –û —á—ë–º —á–∞—â–µ –≤—Å–µ–≥–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –∫–ª–∏–µ–Ω—Ç—ã
- –ö–∞–∫–∏–µ —Å—Ç—Ä–∞–Ω—ã/–ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–ø—É–ª—è—Ä–Ω–µ–µ
- –ö–∞–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è

### –£–ª—É—á—à–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
–ù–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:
- –ö–∞–∫–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç
- –ö–∞–∫–∏–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
- –ö–∞–∫–∏–µ —Ç–µ–º—ã —Ä–∞—Å—à–∏—Ä–∏—Ç—å

### –ú–µ—Ç—Ä–∏–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- % –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –æ—Ç–≤–µ—Ç–æ–º
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–∏–Ω–∞–º–∏–∫–∞ —Ä–æ—Å—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–í —Ñ–∞–π–ª–µ `question_logger.py`:

```python
self.sync_threshold = 10      # –ö–∞–∂–¥—ã–µ N –≤–æ–ø—Ä–æ—Å–æ–≤
self.sync_interval = 3600     # –ö–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥ (3600 = 1 —á–∞—Å)
```

### –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:
```python
self.sync_threshold = 999999
self.sync_interval = 999999
```

–¢–æ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é:
```bash
git add knowledge/telegram_questions.jsonl
git commit -m "Manual sync"
git push
```

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –õ–æ–≥–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
ls -la knowledge/telegram_questions.jsonl
```

–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç - –∑–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –±–æ—Ç—É –≤ Telegram.

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ Render:
```
üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ª–æ–≥–æ–≤ —Å Git...
‚úÖ –õ–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å Git
```

–ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ Git –Ω–∞ Render.

### –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª
–ï—Å–ª–∏ —Ñ–∞–π–ª > 10MB, –º–æ–∂–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏:
```bash
# –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ —Å—Ç–∞—Ä—à–µ –º–µ—Å—è—Ü–∞
grep '"date": "2025-09-' knowledge/telegram_questions.jsonl > archive_2025-09.jsonl
grep -v '"date": "2025-09-' knowledge/telegram_questions.jsonl > temp.jsonl
mv temp.jsonl knowledge/telegram_questions.jsonl
```

---

## üìä –ü—Ä–∏–º–µ—Ä –æ—Ç—á—ë—Ç–∞

```bash
$ python3 view_telegram_logs.py

================================================================================
üìä –°–í–û–î–ö–ê –ü–û –í–û–ü–†–û–°–ê–ú –ò–ó TELEGRAM
================================================================================

üìà –í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤: 127
‚úÖ –° –æ—Ç–≤–µ—Ç–æ–º: 114 (89.8%)
‚ùå –ë–µ–∑ –æ—Ç–≤–µ—Ç–∞: 13 (10.2%)

üë• –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 15

üìÖ –ü–æ –¥–∞—Ç–∞–º:
   2025-10-14: 45 –≤–æ–ø—Ä–æ—Å–æ–≤
   2025-10-13: 38 –≤–æ–ø—Ä–æ—Å–æ–≤
   2025-10-12: 28 –≤–æ–ø—Ä–æ—Å–æ–≤

üîù –¢–æ–ø-5 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
   @john_doe: 23 –≤–æ–ø—Ä–æ—Å–∞
   @anna_smith: 18 –≤–æ–ø—Ä–æ—Å–æ–≤
   @michael_k: 15 –≤–æ–ø—Ä–æ—Å–æ–≤
```

---

## üéÅ –ë–æ–Ω—É—Å: Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π Telegram –∫–∞–Ω–∞–ª.

–í `question_logger.py` –¥–æ–±–∞–≤—å—Ç–µ:
```python
if not answer_found:
    # –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –∫–∞–Ω–∞–ª –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    send_to_monitoring_channel(question, username)
```

---

**‚úÖ –ì–æ—Ç–æ–≤–æ! –í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!**

*–í–µ—Ä—Å–∏—è: 1.0*  
*–î–∞—Ç–∞: 2025-10-14*

